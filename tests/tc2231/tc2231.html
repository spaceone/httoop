HTTP/1.1 200 OK
Date: Wed, 17 Jun 2015 09:56:14 GMT
Server: Apache/2.4.7 (Ubuntu)
Last-Modified: Wed, 30 Apr 2014 16:27:38 GMT
ETag: "5dd1e-4f84506d69280"
Accept-Ranges: bytes
Content-Length: 384286
Vary: Accept-Encoding
Content-Type: text/html

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
      <title>Test Cases for HTTP Content-Disposition header field (RFC 6266) and the Encodings defined in RFCs 2047, 2231 and 5987</title><style type="text/css">
a.plain {
  color: black;
  text-decoration: none;
}
body {
  color: black;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
  margin-left: 2em;
}
h1 {
  font-size: 18pt;
}
h2 {
  font-size: 14pt;
}
h3 {
  font-size: 12pt;
}
h4 {
  font-size: 10pt;
}
pre {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
}
pre.parseerror {
  background-color: #ffa0a0;
}
pre.invalid {
  background-color: #ffc0c0;
}
pre.invalidsyntax {
  background-color: #ffc0c0;
}
pre.errorline {
  border-style: none;
  margin-top: -1em;
  background-color: white;
}
table {
  font-size: 9pt;
}
table.extracted {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  font-family: monospace;
}
table.extracted th {
  text-align: left;
}
table.aside {
  float: right;
  margin: 4px;
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
}
q {
  font-style: italic;
}
th {
  text-align: right;
  vertical-align: top;
}
h2, h3, h4 {
  clear: both;
}
.fail {
  background-color: #ffd0d0;
}
.warn {
  background-color: #ffff80;
}
.pass {
  background-color: #d0ffd0;
}
.unsupported {
  background-color: #e0e0e0;
}
.red {
  color: red;
}
      </style><meta name="description" content="Test case for the HTTP Content-Disposition header field, including specification links and results for various current User Agents.">
   </head>
   <body>
      <h1>Test Cases for HTTP Content-Disposition header field (RFC 6266) and the Encodings defined in RFCs 2047, 2231 and 5987</h1>
      <p>
         Please send feedback to <i><a href="mailto:julian.reschke@gmx.de?subject=rfc2231%20test%20cases">julian.reschke@gmx.de</a></i>.
         
      </p>
      <h2>Related Reading</h2>
      <p style="float: right"><object data="2231relations.svg" width="614" height="382" type="image/svg+xml"></object></p>
      <ul>
         <li>
            Header Encoding
            
            <ul>
               <li><a href="http://greenbytes.de/tech/webdav/rfc2047.html">RFC 2047</a> --  
                  "MIME (Multipurpose Internet Mail Extensions) Part Three:
                  Message Header Extensions for Non-ASCII Text"
                  
               </li>
               <li><a href="http://greenbytes.de/tech/webdav/rfc2231.html">RFC 2231</a> --
                  "MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations"
                  
               </li>
               <li><a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a> --
                  "Applicability of RFC 2231 Encoding to Hypertext Transfer Protocol (HTTP) Header Field Parameters"
                  -- now being updated for publication as <a href="http://tools.ietf.org/html/rfc2026#section-4.1.2">Draft Standard</a> in
                  <a href="http://greenbytes.de/tech/webdav/draft-reschke-rfc5987bis-latest.html">draft-reschke-rfc5987bis</a></li>
               <li><a href="http://tools.ietf.org/wg/httpbis/trac/ticket/63">HTTPbis WG issue 63</a> --
                  "RFC2047 encoded words"
                  
               </li>
               <li><a href="http://tools.ietf.org/wg/httpbis/trac/ticket/74">HTTPbis WG issue 74</a> --
                  "Character Encodings in TEXT"
                  
               </li>
               <li><a href="http://tools.ietf.org/wg/httpbis/trac/ticket/111">HTTPbis WG issue 111</a> --
                  "Use of TEXT"
                  
               </li>
               <li><a href="http://tools.ietf.org/wg/httpbis/trac/ticket/121">HTTPbis WG issue 121</a> --
                  "RFC 1806 has been replaced by RFC2183"
                  
               </li>
            </ul>
         </li>
         <li>
            Content-Disposition Header
            
            <ul>
               <li><a href="http://greenbytes.de/tech/webdav/rfc2183.html">RFC 2183</a> --               
                  "Communicating Presentation Information in
                  Internet Messages: The Content-Disposition Header Field"
                  
               </li>
               <li><a href="http://greenbytes.de/tech/webdav/rfc2616.html#content-disposition">Section 19.5.1 of RFC 2616</a> --
                  "Hypertext Transfer Protocol -- HTTP/1.1"
                  
               </li>
               <li><a href="http://greenbytes.de/tech/webdav/draft-ietf-httpbis-p3-payload-11.html#content-disposition">Appendix B.1 of draft-ietf-httpbis-p3-payload-11</a> --
                  "HTTP/1.1, part 3: Message Payload and Content Negotiation" (removed in later drafts)
                  
               </li>
               <li><a href="http://tools.ietf.org/wg/httpbis/trac/ticket/123">HTTPbis WG issue 123</a> --
                  "Factor out Content-Disposition", leading to...:
                  
               </li>
               <li><a href="http://greenbytes.de/tech/webdav/rfc6266.html">RFC 6266</a> --               
                  "Use of the Content-Disposition Header Field in the Hypertext Transfer Protocol (HTTP)"
                  
               </li>
            </ul>
         </li>
         <li>
            UA Feature Requests for RFC 2231/5987 Encoding
            
            <ul>
               <li><a href="https://bugs.webkit.org/show_bug.cgi?id=15287">Webkit Bug 15287</a>/Apple Bug ID# 8970833
                  
               </li>
               <li><a href="https://connect.microsoft.com/IE/feedback/details/595059/rfc5987-not-supported"><del>Microsoft Connect Feedback 595095</del></a>  (requires login) (implemented for UTF-8 in Internet Explorer 9)
                  
               </li>
               <li><a href="http://code.google.com/p/chromium/issues/detail?id=57830"><del>Chromium Bug 57830</del></a> (implemented in Chrome 9)
                  
               </li>
            </ul>
         </li>
      </ul>
      <h2 id="howto">How to send filenames in Content-Disposition</h2>
      <p>
         Historically, it was impossible to send filenames containing non-ASCII
         characters without doing browser sniffing, and varying the response based
         on the detected browser.
         
      </p>
      <p>
         With the work leading to RFCs <a href="http://greenbytes.de/tech/webdav/rfc5987.html">5987</a>
         and <a href="http://greenbytes.de/tech/webdav/rfc6266.html">6266</a>, and the subsequent
         improvements in IE and Chrome, and finally in Safari 6, the sitution has improved a <em>lot</em>.
         
      </p>
      <p>
         In cases where it's acceptable to fall back to an ASCII filename in both Safari
         (versions prior to 6) and Internet Explorer (versions prior to
         IE9), the recommendation in <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.D">Section D of RFC 6266</a>
         should be followed: all recent browsers except Safari will use the internationalized filename, other versions
         will fallback to the ASCII filename (this will be the case for Firefox 4 and older, Chrome 10 and older, and Internet Explorer
         8
         and older).
         
      </p>
      <p>
         The <a href="http://trac.tools.ietf.org/wg/httpbis/">IETF HTTPbis Working Group</a>
         has a <a href="http://trac.tools.ietf.org/wg/httpbis/trac/wiki/ContentDispositionProducers">Wiki Page</a> for collecting information about what <em>producers</em> do,
         please contribute!
         
      </p>
      <h2>Browsers Tested</h2>
      <p>
         Unless stated otherwise, all tests were executed with the latest release versions of Firefox,
         Google Chrome, Microsoft Internet Explorer (both 8 &amp; 9 as IE9 is not available for XP), Safari, Konqueror (kde4win) and Opera
         on a machine running
         Windows 7. Test versions of Firefox are included because Content-Disposition header field
         related fixes are currently being worked on.
         
      </p>
      <h2 id="buggy-senders">Known Buggy Senders</h2>
      <p>
         Unfortunately, there are web sites/services out there that produce
         broken header fields, which makes it non-trivial to change browsers
         to reject more broken header fields. In particular, for historical
         reasons, many sites still send different notations based on the
         User Agent they believe to see, causing them to appear to work for
         on User Agent, but not for the other.
         
      </p>
      <p>
         The list below just mentions the top sites/services the author is
         aware of. If you can help to improve these, <em>please</em> do so.
         
      </p>
      <p id="broken-sender-OWA"><b>Outlook Web App</b>, the web mail front end for Exchange 
         2010, uses the "*" suffix indicating RFC2231/5987 encoding, but adds double quotes around
         the field value. This has been a known issue for Chrome since April 2011
         (see <a href="http://code.google.com/p/chromium/issues/detail?id=41308">Chrome Bug 41308</a>),
         but was apparently fixed by Microsoft for Exchange 2010 SP1. Surprisingly,
         the same behavior was left in the code for Firefox, breaking Firefox 8
         which attempted to become more strict (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=703015">Mozilla Bug 703015</a>
         and <a href="http://social.technet.microsoft.com/Forums/en-US/exchange2010/thread/0e91199f-bb00-469c-a20e-0a302d2197ce/">Microsoft Technet Thread</a>).
         
      </p>
      <p id="broken-sender-GMail"><b>Gmail</b> encodes filenames using the encoding defined in RFC 2047,
         which does not apply to HTTP header field parameters, and is only
         "supported" by Firefox and Chrome. Instead, it <em>should</em> use
         the RFC 5987 encoding, which is supported all UAs that implement
         RFC 2047, plus some more. This issue has been known since December 2010
         (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=601933#c3">Mozilla Bug 601933</a>),
         and it appears the Gmail team is now looking into this issue.
         
      </p>
      <p id="broken-sender-SMF"><b>SMF</b>, a forum software developed at <a href="http://www.simplemachines.org/">Simple Machines</a>,
         produces a broken header field when the UA is Firefox. This bug has been known since
         September 2011 and hasn't been fixed yet (see <a href="http://dev.simplemachines.org/mantis/view.php?id=4825">Issue 4825</a>).
         
      </p>
      <h2>Test Result Summary</h2>
      <p><small>Colors -- Red: Failure, Green: Pass, Yellow: Warning, Grey: Not Supported</small></p>
      <p><small>Score -- Passes: 2 points, Warning: 1 point, in percent of possible points
            <i>(this should be updated to count optional features differently)</i></small></p>
      <table>
         <thead>
            <tr>
               <th colspan="2">Test Case</th>
               <th>Firefox 22</th>
               <th>Microsoft IE 8</th>
               <th>Microsoft IE 9</th>
               <th>Opera 12</th>
               <th>Safari 6 (OSX)</th>
               <th>Konqueror 4.7.4</th>
               <th>Google Chrome 25</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <th colspan="2">Summary</th>
               <td style="text-align: center;"><img alt="64% passes, 6% failures, 28% warnings, 2% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A57%2C5%2C25%2C2%2C0&amp;chs=128x128"><br><small>
                     Score: 78</small></td>
               <td style="text-align: center;"><img alt="33% passes, 12% failures, 22% warnings, 33% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A29%2C11%2C20%2C29%2C0&amp;chs=128x128"><br><small>
                     Score: 44</small></td>
               <td style="text-align: center;"><img alt="52% passes, 11% failures, 25% warnings, 12% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A46%2C10%2C22%2C11%2C0&amp;chs=128x128"><br><small>
                     Score: 64</small></td>
               <td style="text-align: center;"><img alt="67% passes, 3% failures, 26% warnings, 3% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A60%2C3%2C23%2C3%2C0&amp;chs=128x128"><br><small>
                     Score: 80</small></td>
               <td style="text-align: center;"><img alt="66% passes, 3% failures, 18% warnings, 12% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A59%2C3%2C16%2C11%2C0&amp;chs=128x128"><br><small>
                     Score: 75</small></td>
               <td style="text-align: center;"><img alt="90% passes, 0% failures, 7% warnings, 3% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A80%2C0%2C6%2C3%2C0&amp;chs=128x128"><br><small>
                     Score: 93</small></td>
               <td style="text-align: center;"><img alt="62% passes, 8% failures, 19% warnings, 11% unsupported, 0% to-do" src="http://chart.apis.google.com/chart?cht=p&amp;chco=d0ffd0%2Cffd0d0%2Cffff80%2Ce0e0e0%2Cffffff&amp;chd=t%3A55%2C7%2C17%2C10%2C0&amp;chs=128x128"><br><small>
                     Score: 71</small></td>
            </tr>
            <tr>
               <th rowspan="5">Content-Disposition: Disposition-Type Inline</th>
               <th><a href="#inlonly">inlonly</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#inlonlyquoted">inlonlyquoted</a></th>
               <td class="warn">warn
                  (apparently parsed as unknown disposition type, thus defaulting to "attachment")
                  
               </td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#inlwithasciifilename">inlwithasciifilename</a></th>
               <td class="pass">pass
                  (uses the filename in subsequent 'save' operation)
                  
               </td>
               <td class="unsupported" colspan="2">unsupported
                  (filename information not used)
                  
               </td>
               <td class="unsupported">unsupported
                  (filename information not used)
                  
               </td>
               <td class="unsupported">unsupported
                  (filename information not used)
                  
               </td>
               <td class="unsupported">unsupported
                  (filename information not used)
                  
               </td>
               <td class="unsupported">unsupported
                  (filename information not used (filename derived from title) (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=257250">Chrome Issue 257250</a>))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#inlwithfnattach">inlwithfnattach</a></th>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (thinks this is an attachment)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#inlwithasciifilenamepdf">inlwithasciifilenamepdf</a></th>
               <td class="pass">pass
                  (filename information only used when save happens through UA menu, not PDF plugin (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=433613">Mozilla Bug 433613</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported
                  (filename information not used)
                  
               </td>
               <td class="pass">pass
                  (filename information only used when save happens through UA menu, not PDF plugin)
                  
               </td>
               <td class="pass">pass
                  (uses the filename in subsequent 'save' operation)
                  
               </td>
               <td class="unsupported">unsupported
                  (filename information not used)
                  
               </td>
               <td class="pass">pass
                  (uses the filename in subsequent 'save' operation)
                  
               </td>
            </tr>
            <tr>
               <th rowspan="51">Content-Disposition: Disposition-Type Attachment</th>
               <th><a href="#attonly">attonly</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attonlyquoted">attonlyquoted</a></th>
               <td class="warn">warn
                  (apparently parsed either as unknown disposition type, thus defaulting to "attachment", or mistaken for "attachment")
                  
               </td>
               <td class="warn" colspan="2">warn
                  (apparently parsed either as unknown disposition type, thus defaulting to "attachment", or mistaken for "attachment")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attonly403">attonly403</a></th>
               <td class="pass">pass
                  (but displays a misleading error message (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=364354">Mozilla Bug 364354</a>))
                  
               </td>
               <td class="pass">pass
                  (but displays a misleading error message)
                  
               </td>
               <td class="pass">pass
                  (error is reported)
                  
               </td>
               <td class="fail">fail
                  (saves the content without warning)
                  
               </td>
               <td class="fail">fail
                  (saves the content without warning)
                  
               </td>
               <td class="warn">warn
                  (displays the content as if the header field wasn't present)
                  
               </td>
               <td class="pass">pass
                  (but displays a misleading error message)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attonlyucase">attonlyucase</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilename">attwithasciifilename</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilename25">attwithasciifilename25</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilename35">attwithasciifilename35</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifnescapedchar">attwithasciifnescapedchar</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (apparently does not treat the backslash as escape character, replaces it with '_')
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifnescapedquote">attwithasciifnescapedquote</a></th>
               <td class="warn">warn
                  (unquotes properly, but replaces the double quotes with "_")
                  
               </td>
               <td class="fail" colspan="2">fail
                  (apparently does not treat the backslash as escape character, replaces it with '_')
                  
               </td>
               <td class="warn">warn
                  (unquotes properly, but replaces the double quotes with "_")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (unquotes properly, but replaces the double quotes with "-")
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithquotedsemicolon">attwithquotedsemicolon</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (thinks the filename is terminated by the semicolon)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfilenameandextparam">attwithfilenameandextparam</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfilenameandextparamescaped">attwithfilenameandextparamescaped</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilenameucase">attwithasciifilenameucase</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilenamenq">attwithasciifilenamenq</a></th>
               <td class="pass">pass
                  (accepts the unquoted value)
                  
               </td>
               <td class="pass" colspan="2">pass
                  (accepts the unquoted value)
                  
               </td>
               <td class="pass">pass
                  (accepts the unquoted value)
                  
               </td>
               <td class="pass">pass
                  (accepts the unquoted value)
                  
               </td>
               <td class="pass">pass
                  (accepts the unquoted value)
                  
               </td>
               <td class="pass">pass
                  (accepts the unquoted value)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithtokfncommanq">attwithtokfncommanq</a></th>
               <td class="warn">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="warn">warn
                  (treats the comma as delimiter and offers to download "foo.html")
                  
               </td>
               <td class="pass">pass
                  (ignores thes header field)
                  
               </td>
               <td class="pass">pass
                  (reports a network error ("Duplicate headers received from server"))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilenamenqs">attwithasciifilenamenqs</a></th>
               <td class="warn">warn
                  (accepts the unquoted value, treats semicolon as delimiter)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (accepts the unquoted value, treats semicolon as delimiter)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value, treats semicolon as delimiter)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value, treats semicolon as delimiter)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value, treats semicolon as delimiter)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value, treats semicolon as delimiter)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attemptyparam">attemptyparam</a></th>
               <td class="warn">warn
                  (skips the missing parameter and sees 'foo')
                  
               </td>
               <td class="warn" colspan="2">warn
                  (skips the missing parameter and sees 'foo')
                  
               </td>
               <td class="warn">warn
                  (skips the missing parameter and sees 'foo')
                  
               </td>
               <td class="warn">warn
                  (skips the missing parameter and sees 'foo')
                  
               </td>
               <td class="pass">pass
                  (header field ignored)
                  
               </td>
               <td class="warn">warn
                  (skips the missing parameter and sees 'foo')
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilenamenqws">attwithasciifilenamenqws</a></th>
               <td class="warn">warn
                  (ignores "bar")
                  
               </td>
               <td class="warn">warn
                  (apparently replaces whitespace by "_")
                  
               </td>
               <td class="warn">warn
                  (accepts the whitespace as part of the value)
                  
               </td>
               <td class="warn">warn
                  (accepts the whitespace as part of the value)
                  
               </td>
               <td class="warn">warn
                  (accepts the whitespace as part of the value)
                  
               </td>
               <td class="pass">pass
                  (ignores the parameter)
                  
               </td>
               <td class="warn">warn
                  (accepts the whitespace as part of the value)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfntokensq">attwithfntokensq</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass
                  (note that the second quote disappears as the extension gets rewritten)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (removes the single quotes (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=179825">Chrome Issue 179825</a>))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithisofnplain">attwithisofnplain</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithutf8fnplain">attwithutf8fnplain</a></th>
               <td class="fail">fail
                  (decodes as UTF-8 (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=588409">Mozilla Bug 588409</a>))
                  
               </td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (decodes as UTF-8)
                  
               </td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (decodes as UTF-8)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfnrawpctenca">attwithfnrawpctenca</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (displays "foo-A.html")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (displays "foo-A.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=118">Chrome Issue 118</a>))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfnusingpct">attwithfnusingpct</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfnrawpctencaq">attwithfnrawpctencaq</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (apparently does not treat the backslash as escape character, replaces it with '_')
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (saves "foo-A.html" (apparently unescapes the "\" but then applies %-decoding))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithnamepct">attwithnamepct</a></th>
               <td class="pass">pass
                  (parameter ignored)
                  
               </td>
               <td class="pass" colspan="2">pass
                  (parameter ignored)
                  
               </td>
               <td class="pass">pass
                  (parameter ignored)
                  
               </td>
               <td class="pass">pass
                  (parameter ignored)
                  
               </td>
               <td class="pass">pass
                  (parameter ignored)
                  
               </td>
               <td class="pass">pass
                  (displays "foo-A.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=162815">Chrome Issue 162815</a>))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfilenamepctandiso">attwithfilenamepctandiso</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (displays "ä-A.html")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfnrawpctenclong">attwithfnrawpctenclong</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (displays "foo-ä-&#8364;.html")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (displays "foo-ä-&#8364;.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=118">Chrome Issue 118</a>))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithasciifilenamews1">attwithasciifilenamews1</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwith2filenames">attwith2filenames</a></th>
               <td class="warn">warn
                  (Takes first parameter)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (Takes first parameter)
                  
               </td>
               <td class="warn">warn
                  (Takes first parameter)
                  
               </td>
               <td class="warn">warn
                  (Takes first parameter)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (Takes first parameter)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attfnbrokentoken">attfnbrokentoken</a></th>
               <td class="warn">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="warn">warn
                  (accepts the unquoted value)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (accepts the unquoted value)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attfnbrokentokeniso">attfnbrokentokeniso</a></th>
               <td class="warn">warn
                  (accepts the umlaut)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (accepts the umlaut)
                  
               </td>
               <td class="warn">warn
                  (accepts the umlaut)
                  
               </td>
               <td class="warn">warn
                  (accepts the umlaut)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (accepts the umlaut)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attfnbrokentokenutf">attfnbrokentokenutf</a></th>
               <td class="warn">warn
                  (accepts the umlaut, also sniffs as UTF-8)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (accepts the umlaut)
                  
               </td>
               <td class="warn">warn
                  (accepts the umlaut)
                  
               </td>
               <td class="warn">warn
                  (accepts the umlaut, also sniffs as UTF-8)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (accepts the umlaut, also sniffs as UTF-8)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdisposition">attmissingdisposition</a></th>
               <td class="warn">warn
                  (Treated as inline (and filename used in subsequent save operation))
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdisposition2">attmissingdisposition2</a></th>
               <td class="fail">fail
                  (Treated as named attachment (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=671204">Mozilla Bug 671204</a>))
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdisposition3">attmissingdisposition3</a></th>
               <td class="fail">fail
                  (Sees "qux" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=671204">Mozilla Bug 671204</a>))
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdisposition4">attmissingdisposition4</a></th>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (reports a network error ("Duplicate headers received from server"))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#emptydisposition">emptydisposition</a></th>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#doublecolon">doublecolon</a></th>
               <td class="warn">warn
                  (surplus colon ignored (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=671204">Mozilla Bug 671204</a>))
                  
               </td>
               <td class="warn" colspan="2">warn
                  (surplus colon ignored)
                  
               </td>
               <td class="warn">warn
                  (surplus colon ignored)
                  
               </td>
               <td class="pass">pass
                  (header field ignored)
                  
               </td>
               <td class="pass">pass
                  (header field ignored)
                  
               </td>
               <td class="pass">pass
                  (header field ignored)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attandinline">attandinline</a></th>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="fail" colspan="2">fail
                  (Picks 'attachment')
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
               <td class="pass">pass
                  (Header field ignored)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attandinline2">attandinline2</a></th>
               <td class="warn">warn
                  (treats it as (named) attachment)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (treats it as (named) attachment)
                  
               </td>
               <td class="warn">warn
                  (treats it as (named) attachment)
                  
               </td>
               <td class="warn">warn
                  (treats it as (named) attachment)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (treats it as (unnamed) attachment)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attbrokenquotedfn">attbrokenquotedfn</a></th>
               <td class="warn">warn
                  (ignores the stuff after the second double quote)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (treats the suffix as part of the filename)
                  
               </td>
               <td class="warn">warn
                  (ignores the stuff after the second double quote)
                  
               </td>
               <td class="warn">warn
                  (ignores the stuff after the second double quote)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (replaces second double quote by "-")
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attbrokenquotedfn2">attbrokenquotedfn2</a></th>
               <td class="warn">warn
                  (accepts the filename parameter as if complete (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=686198">Mozilla Bug 686198</a>))
                  
               </td>
               <td class="warn" colspan="2">warn
                  (accepts the filename parameter as if complete)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (accepts the filename parameter as if complete)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attbrokenquotedfn3">attbrokenquotedfn3</a></th>
               <td class="warn">warn
                  (sees "foo_bar" (apparently substituting the double quote, and truncating at the semicolon))
                  
               </td>
               <td class="warn" colspan="2">warn
                  (sees "foo_bar" (apparently substituting the double quote, and truncating at the semicolon))
                  
               </td>
               <td class="warn">warn
                  (sees "foo"bar;baz"qux" (accepts all characters inside the token?))
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (sees "foo-bar;baz"qux" (accepts all characters inside the token?))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmultinstances">attmultinstances</a></th>
               <td class="warn">warn
                  (sees "bar.html" (picking the second value, see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=480100">Mozilla Bug 480100</a>))
                  
               </td>
               <td class="warn" colspan="2">warn
                  (sees "foo[1].html, attachment")
                  
               </td>
               <td class="warn">warn
                  (sees "foo.htm")
                  
               </td>
               <td class="warn">warn
                  (sees "foo.html")
                  
               </td>
               <td class="warn">warn
                  (sees "bar.html")
                  
               </td>
               <td class="pass">pass
                  (reports a network error ("Duplicate headers received from server"))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdelim">attmissingdelim</a></th>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdelim2">attmissingdelim2</a></th>
               <td class="warn">warn
                  (sees "bar")
                  
               </td>
               <td class="warn">warn
                  (sees "bar_foo=foo")
                  
               </td>
               <td class="warn">warn
                  (sees "bar foo=foo")
                  
               </td>
               <td class="warn">warn
                  (sees "bar foo=foo")
                  
               </td>
               <td class="warn">warn
                  (sees "bar foo=foo")
                  
               </td>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn">warn
                  (sees "bar foo=foo")
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmissingdelim3">attmissingdelim3</a></th>
               <td class="warn">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn" colspan="2">warn
                  (sees unnamed attachment)
                  
               </td>
               <td class="warn">warn
                  (sees "bar")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attreversed">attreversed</a></th>
               <td class="pass">pass
                  ((but see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=263933">Mozilla Bug 263933</a>))
                  
               </td>
               <td class="warn">warn
                  (treated as named attachment)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attconfusedparam">attconfusedparam</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attabspath">attabspath</a></th>
               <td class="pass">pass
                  (Replaces the path separator with "_".)
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Replaces the path separator with "_".)
                  
               </td>
               <td class="pass">pass
                  (Strips the path separator.)
                  
               </td>
               <td class="pass">pass
                  (Replaces the path separator with "-".)
                  
               </td>
               <td class="pass">pass
                  (Strips the path separator.)
                  
               </td>
               <td class="pass">pass
                  (Replaces the path separator with "_".)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attabspathwin">attabspathwin</a></th>
               <td class="pass">pass
                  (Replaces the path separator with "_".)
                  
               </td>
               <td class="pass" colspan="2">pass
                  (Replaces the path separator with "__"; apparently processing raw "\" characters instead of the unescaped quoted-string.)
                  
               </td>
               <td class="pass">pass
                  (Strips the path separator.)
                  
               </td>
               <td class="warn">warn
                  (On OSX: stores the leading "\")
                  
               </td>
               <td class="pass">pass
                  (Strips the platform-specific path separator.)
                  
               </td>
               <td class="pass">pass
                  (Replaces the path separator with "_".)
                  
               </td>
            </tr>
            <tr>
               <th rowspan="2">Content-Disposition: Additional Parameters</th>
               <th><a href="#attcdate">attcdate</a></th>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=531353">Mozilla Bug 531353</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attmdate">attmdate</a></th>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=531353">Mozilla Bug 531353</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported
                  (seems to ignore the parameter)
                  
               </td>
            </tr>
            <tr>
               <th rowspan="2">Content-Disposition: Disposition-Type Extension</th>
               <th><a href="#dispext">dispext</a></th>
               <td class="pass">pass</td>
               <td class="fail" colspan="2">fail
                  (does not treat it as 'attachment')
                  
               </td>
               <td class="pass">pass</td>
               <td class="fail">fail
                  (does not treat it as 'attachment')
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#dispextbadfn">dispextbadfn</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th rowspan="16">RFC 2231/5987 Encoding: Character Sets</th>
               <th><a href="#attwithisofn2231iso">attwithisofn2231iso</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="fail">fail
                  (does not accept ISO-8859-1)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231utf8">attwithfn2231utf8</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231noc">attwithfn2231noc</a></th>
               <td class="warn">warn
                  (decodes as UTF-8 (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685192">Mozilla Bug 685192</a>))
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (decodes as 8bit encoding (ISO-8859-1?))
                  
               </td>
               <td class="pass">pass
                  (ignores the parameter)
                  
               </td>
               <td class="pass">pass
                  (ignores the parameter)
                  
               </td>
               <td class="pass">pass
                  (ignores the parameter)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231utf8comp">attwithfn2231utf8comp</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231utf8-bad">attwithfn2231utf8-bad</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (displays the raw octet sequence as if it was ISO-8859-1 (which is internally 
                  treated as windows-1252, which <em xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231">does</em> allow %82))
                  
               </td>
               <td class="warn">warn
                  (displays the raw octet sequence as if it was ISO-8859-1)
                  
               </td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (displays the raw octet sequence as if it was ISO-8859-1)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231iso-bad">attwithfn2231iso-bad</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="warn">warn
                  (detects "foo-%E4.html")
                  
               </td>
               <td class="warn">warn
                  (apparently falls back to ISO-8859-1)
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass
                  (seems to insert a replacement character)
                  
               </td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231ws1">attwithfn2231ws1</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231ws2">attwithfn2231ws2</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231ws3">attwithfn2231ws3</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231quot">attwithfn2231quot</a></th>
               <td class="warn">warn
                  (accepts the encoding despite double quotes not being allowed here (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=651185">Mozilla Bug 651185</a>))
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231quot2">attwithfn2231quot2</a></th>
               <td class="warn">warn
                  (processes the parameter despite broken quotes and missing delimiters (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=651185">Mozilla Bug 651185</a>, <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685192">Mozilla Bug 685192</a>, and <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=692574">Mozilla Bug 692574</a>))
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231singleqmissing">attwithfn2231singleqmissing</a></th>
               <td class="warn">warn
                  (tolerates the missing single quote (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=692574">Mozilla Bug 692574</a>))
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231nbadpct1">attwithfn2231nbadpct1</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="warn">warn
                  (displays "foo%")
                  
               </td>
               <td class="warn">warn
                  (displays "foo%")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="warn">warn
                  (displays "foo%")
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231nbadpct2">attwithfn2231nbadpct2</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="warn">warn
                  (displays "f%oo.html")
                  
               </td>
               <td class="warn">warn
                  (displays "f%oo.html")
                  
               </td>
               <td class="pass">pass</td>
               <td class="pass">pass
                  (ignores the filename parameter)
                  
               </td>
               <td class="warn">warn
                  (displays "f%oo.html")
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231dpct">attwithfn2231dpct</a></th>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th><a href="#attwithfn2231abspathdisguised">attwithfn2231abspathdisguised</a></th>
               <td class="pass">pass
                  (substitutes "\" by "_")
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass
                  (substitutes "\" by "_")
                  
               </td>
               <td class="pass">pass
                  (strips the "\")
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="warn">warn
                  (On OSX: stores the leading "\")
                  
               </td>
               <td class="pass">pass
                  (substitutes "\" by "_")
                  
               </td>
            </tr>
            <tr>
               <th rowspan="7">RFC2231 Encoding: Continuations</th>
               <th><a href="#attfncont">attfncont</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th><a href="#attfncontqs">attfncontqs</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th><a href="#attfncontenc">attfncontenc</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th><a href="#attfncontlz">attfncontlz</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="warn">warn
                  (accepts leading zeros)
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th><a href="#attfncontnc">attfncontnc</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th><a href="#attfnconts1">attfnconts1</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th><a href="#attfncontord">attfncontord</a></th>
               <td class="pass">pass
                  (but see (<a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                  
               </td>
               <td class="unsupported" colspan="2">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass</td>
               <td class="unsupported">unsupported</td>
            </tr>
            <tr>
               <th rowspan="4">RFC2231 Encoding: Fallback Behaviour</th>
               <th><a href="#attfnboth">attfnboth</a></th>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="unsupported">unsupported
                  (picks the traditionally encoded value -- the first of both)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attfnboth2">attfnboth2</a></th>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="fail">fail
                  (ignores the parameter (this indicates a parsing bug))
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
               <td class="pass">pass
                  (picks the RFC 2231 encoded value)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attfnboth3">attfnboth3</a></th>
               <td class="pass">pass
                  (uses RFC5987 simple format)
                  
               </td>
               <td class="unsupported">unsupported</td>
               <td class="pass">pass
                  (ignores both)
                  
               </td>
               <td class="pass">pass
                  (uses RFC2231/cont format (the first one))
                  
               </td>
               <td class="pass">pass
                  (uses RFC5987 simple format)
                  
               </td>
               <td class="pass">pass
                  (uses RFC2231/cont format (the first one))
                  
               </td>
               <td class="pass">pass
                  (uses RFC5987 simple format)
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attnewandfn">attnewandfn</a></th>
               <td class="pass">pass</td>
               <td class="pass" colspan="2">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
               <td class="pass">pass</td>
            </tr>
            <tr>
               <th rowspan="2">RFC2047 Encoding</th>
               <th><a href="#attrfc2047token">attrfc2047token</a></th>
               <td class="fail">fail
                  (decodes it anyway to "foo-ä.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=601933"><del>Mozilla Bug 601933</del></a>))
                  
               </td>
               <td class="warn" colspan="2">warn
                  (takes the whole value as filename, but does not decode it (replacing question marks by underscores))
                  
               </td>
               <td class="fail">fail
                  (displays garbage ("=.htm"))
                  
               </td>
               <td class="warn">warn
                  (takes the whole value as filename, but does not decode it (replacing question marks by underscores))
                  
               </td>
               <td class="pass">pass
                  (ignores the parameter)
                  
               </td>
               <td class="fail">fail
                  (decodes it anyway to "foo-ä.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=66694">Chrome Issue 66694</a>))
                  
               </td>
            </tr>
            <tr>
               <th><a href="#attrfc2047quoted">attrfc2047quoted</a></th>
               <td class="fail">fail
                  (decodes it anyway to "foo-ä.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="https://bugzilla.mozilla.org/show_bug.cgi?id=601933"><del>Mozilla Bug 601933</del></a>))
                  
               </td>
               <td class="pass" colspan="2">pass
                  (takes the whole value as filename, but does not decode it)
                  
               </td>
               <td class="fail">fail
                  (displays garbage ("=.htm"))
                  
               </td>
               <td class="pass">pass
                  (takes the whole value as filename, but does not decode it)
                  
               </td>
               <td class="pass">pass
                  (takes the whole value as filename, but does not decode it)
                  
               </td>
               <td class="fail">fail
                  (decodes it anyway to "foo-ä.html" (see <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=RFC2231" href="http://code.google.com/p/chromium/issues/detail?id=66694">Chrome Issue 66694</a>))
                  
               </td>
            </tr>
         </tbody>
      </table>
      <h2>Test Cases</h2>
      <div id="c-d-inline">
         <h3><a href="#c-d-inline" class="plain">Content-Disposition: Disposition-Type Inline</a></h3>
         
         <p>
            Various tests relating to the "inline" disposition type, see 
            <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.2">Section 4.2 of RFC 6266</a>.
            
         </p>
         
         <div id="inlonly">
            <h4><a href="#inlonly" class="plain">inlonly</a>
               [<a title="Run the test" href="inlonly.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Finlonly.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>inline</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'inline' only</p>
            <p><em>This should be equivalent to not including the header at all.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="inlonlyquoted">
            <h4><a href="#inlonlyquoted" class="plain">inlonlyquoted</a>
               [<a title="Run the test" href="inlonlyquoted.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Finlonlyquoted.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>"inline"</pre><pre class="errorline">                     <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (apparently parsed as unknown disposition type, thus defaulting to "attachment")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'inline' only, using double quotes</p>
            <p><em>This is invalid syntax, thus the header should be ignored.</em></p>
         </div>
         <div id="inlwithasciifilename">
            <h4><a href="#inlwithasciifilename" class="plain">inlwithasciifilename</a>
               [<a title="Run the test" href="inlwithasciifilename.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Finlwithasciifilename.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>inline; filename="<b>foo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (uses the filename in subsequent 'save' operation)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Opera</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Konq</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported
                        (filename information not used (filename derived from title) (see <a href="http://code.google.com/p/chromium/issues/detail?id=257250">Chrome Issue 257250</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'inline', specifying a filename of <code>foo.html</code>
               
            </p>
            <p><em>
                  Some UAs use this filename in a subsequent "save" operation.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="inlwithfnattach">
            <h4><a href="#inlwithfnattach" class="plain">inlwithfnattach</a>
               [<a title="Run the test" href="inlwithfnattach.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Finlwithfnattach.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>inline; filename="<b>Not an attachment!</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (thinks this is an attachment)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'inline', specifying a filename of <code>Not an attachment!</code> -
               this checks for proper parsing for disposition types.
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                     <td>filename</td>
                     <td>"Not an attachment!"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                     <td>filename</td>
                     <td>Not an attachment!</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="inlwithasciifilenamepdf">
            <h4><a href="#inlwithasciifilenamepdf" class="plain">inlwithasciifilenamepdf</a>
               [<a title="Run the test" href="inlwithasciifilenamepdf.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Finlwithasciifilenamepdf.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>inline; filename="<b>foo.pdf</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (filename information only used when save happens through UA menu, not PDF plugin (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=433613">Mozilla Bug 433613</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (filename information only used when save happens through UA menu, not PDF plugin)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (uses the filename in subsequent 'save' operation)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Konq</td>
                     <td>unsupported
                        (filename information not used)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (uses the filename in subsequent 'save' operation)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'inline', specifying a filename of <code>foo.pdf</code>
               
            </p>
            <p><em>
                  Some UAs use this filename in a subsequent "save" operation.
                  This variation of the test checks whether whatever handles PDF display
                  receives the filename information, and acts upon it
                  (this was tested with the latest Acrobat Reader plugin, or, in the 
                  case of Chrome, using the builtin PDF handler).
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                     <td>filename</td>
                     <td>"foo.pdf"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>inline</td>
                     <td>filename</td>
                     <td>foo.pdf</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="c-d-attachment">
         <h3><a href="#c-d-attachment" class="plain">Content-Disposition: Disposition-Type Attachment</a></h3>
         
         <p>
            Various tests relating to the "attachment" disposition type, see 
            <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.2">Section 4.2 of RFC 6266</a>.
            
         </p>
         
         <div id="attonly">
            <h4><a href="#attonly" class="plain">attonly</a>
               [<a title="Run the test" href="attonly.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattonly.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'attachment' only</p>
            <p><em>UA should offer to download the resource.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attonlyquoted">
            <h4><a href="#attonlyquoted" class="plain">attonlyquoted</a>
               [<a title="Run the test" href="attonlyquoted.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattonlyquoted.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>"attachment"</pre><pre class="errorline">                     <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (apparently parsed either as unknown disposition type, thus defaulting to "attachment", or mistaken for "attachment")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (apparently parsed either as unknown disposition type, thus defaulting to "attachment", or mistaken for "attachment")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (apparently parsed either as unknown disposition type, thus defaulting to "attachment", or mistaken for "attachment")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'attachment' only, using double quotes</p>
            <p><em>This is invalid syntax, thus the header should be ignored.</em></p>
         </div>
         <div id="attonly403">
            <h4><a href="#attonly403" class="plain">attonly403</a>
               [<a title="Run the test" href="attonly403.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattonly403.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but displays a misleading error message (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=364354">Mozilla Bug 364354</a>))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (but displays a misleading error message)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (error is reported)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>Opera</td>
                     <td>fail
                        (saves the content without warning)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>Saf6</td>
                     <td>fail
                        (saves the content without warning)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Konq</td>
                     <td>warn
                        (displays the content as if the header field wasn't present)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (but displays a misleading error message)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>'attachment' only, but returned with a 403 status.</p>
            <p><em>UA should report the server status.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attonlyucase">
            <h4><a href="#attonlyucase" class="plain">attonlyucase</a>
               [<a title="Run the test" href="attonlyucase.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattonlyucase.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>ATTACHMENT</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'ATTACHMENT' only</p>
            <p><em>UA should offer to download the resource.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>ATTACHMENT</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifilename">
            <h4><a href="#attwithasciifilename" class="plain">attwithasciifilename</a>
               [<a title="Run the test" href="attwithasciifilename.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilename.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code>
               
            </p>
            <p><em>UA should offer to download the resource as "foo.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifilename25">
            <h4><a href="#attwithasciifilename25" class="plain">attwithasciifilename25</a>
               [<a title="Run the test" href="attwithasciifilename25.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilename25.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>0000000000111111111122222</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>0000000000111111111122222</code> (25 characters)
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"0000000000111111111122222"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>0000000000111111111122222</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifilename35">
            <h4><a href="#attwithasciifilename35" class="plain">attwithasciifilename35</a>
               [<a title="Run the test" href="attwithasciifilename35.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilename35.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>00000000001111111111222222222233333</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>00000000001111111111222222222233333</code> (35 characters)
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"00000000001111111111222222222233333"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>00000000001111111111222222222233333</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifnescapedchar">
            <h4><a href="#attwithasciifnescapedchar" class="plain">attwithasciifnescapedchar</a>
               [<a title="Run the test" href="attwithasciifnescapedchar.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifnescapedchar.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>f\oo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (apparently does not treat the backslash as escape character, replaces it with '_')
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (apparently does not treat the backslash as escape character, replaces it with '_')
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>f\oo.html</code> (the first 'o' being escaped)
               
            </p>
            <p><em>UA should offer to download the resource as "foo.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"f\oo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifnescapedquote">
            <h4><a href="#attwithasciifnescapedquote" class="plain">attwithasciifnescapedquote</a>
               [<a title="Run the test" href="attwithasciifnescapedquote.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifnescapedquote.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>\"quoting\" tested.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (unquotes properly, but replaces the double quotes with "_")
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (apparently does not treat the backslash as escape character, replaces it with '_')
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (apparently does not treat the backslash as escape character, replaces it with '_')
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (unquotes properly, but replaces the double quotes with "_")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (unquotes properly, but replaces the double quotes with "-")
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>\"quoting\" tested.html</code> (using double quotes around "quoting" to test... quoting)
               
            </p>
            <p><em>UA should offer to download the resource as something like '"quoting" tested.html' (stripping the quotes
                  may be ok for security reasons, but getting confused by them is not).</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"\"quoting\" tested.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"quoting" tested.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithquotedsemicolon">
            <h4><a href="#attwithquotedsemicolon" class="plain">attwithquotedsemicolon</a>
               [<a title="Run the test" href="attwithquotedsemicolon.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithquotedsemicolon.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>Here's a semicolon;.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (thinks the filename is terminated by the semicolon)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (thinks the filename is terminated by the semicolon)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>Here's a semicolon;.html</code> - this checks for proper parsing for parameters. 
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"Here's a semicolon;.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>Here's a semicolon;.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfilenameandextparam">
            <h4><a href="#attwithfilenameandextparam" class="plain">attwithfilenameandextparam</a>
               [<a title="Run the test" href="attwithfilenameandextparam.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfilenameandextparam.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; foo="bar"; filename="<b>foo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code>
               and an extension parameter "foo" which should be ignored
               (see <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.4">Section 4.4 of RFC 6266</a>.).
               
            </p>
            <p><em>UA should offer to download the resource as "foo.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>foo</td>
                     <td>"bar"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>foo</td>
                     <td>bar</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfilenameandextparamescaped">
            <h4><a href="#attwithfilenameandextparamescaped" class="plain">attwithfilenameandextparamescaped</a>
               [<a title="Run the test" href="attwithfilenameandextparamescaped.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfilenameandextparamescaped.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; foo="\"\\";filename="<b>foo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code>
               and an extension parameter "foo" which should be ignored
               (see <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.4">Section 4.4 of RFC 6266</a>.).
               In comparison to <a href="#attwithfilenameandextparam">attwithfilenameandextparam</a>,
               the extension parameter actually uses backslash-escapes. This tests whether the
               UA properly skips the parameter.
               
            </p>
            <p><em>UA should offer to download the resource as "foo.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>foo</td>
                     <td>"\"\\"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>foo</td>
                     <td>"\</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifilenameucase">
            <h4><a href="#attwithasciifilenameucase" class="plain">attwithasciifilenameucase</a>
               [<a title="Run the test" href="attwithasciifilenameucase.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilenameucase.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; FILENAME="<b>foo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code>
               
            </p>
            <p><em>UA should offer to download the resource as "foo.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>FILENAME</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifilenamenq">
            <h4><a href="#attwithasciifilenamenq" class="plain">attwithasciifilenamenq</a>
               [<a title="Run the test" href="attwithasciifilenamenq.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilenamenq.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename=<b>foo.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code> using a token
               instead of a quoted-string.
               
            </p>
            <p><em>Note that was invalid according to <a href="http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.19.5.1">Section 19.5.1 of RFC 2616</a>.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithtokfncommanq">
            <h4><a href="#attwithtokfncommanq" class="plain">attwithtokfncommanq</a>
               [<a title="Run the test" href="attwithtokfncommanq.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithtokfncommanq.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo,bar.html</b></pre><pre class="errorline">                                             <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (treats the comma as delimiter and offers to download "foo.html")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (ignores thes header field)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (reports a network error ("Duplicate headers received from server"))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo,bar.html</code> using a comma despite using token syntax. 
               
            </p>
         </div>
         <div id="attwithasciifilenamenqs">
            <h4><a href="#attwithasciifilenamenqs" class="plain">attwithasciifilenamenqs</a>
               [<a title="Run the test" href="attwithasciifilenamenqs.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilenamenqs.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo.html</b> ;</pre><pre class="errorline">                                                   <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Konq</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (accepts the unquoted value, treats semicolon as delimiter)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code> using a token
               instead of a quoted-string, and adding a trailing semicolon.
               
            </p>
            <p><em>The trailing semicolon makes the header field value
                  syntactically incorrect, as no other parameter follows. Thus the
                  header field should be ignored.
                  </em></p>
         </div>
         <div id="attemptyparam">
            <h4><a href="#attemptyparam" class="plain">attemptyparam</a>
               [<a title="Run the test" href="attemptyparam.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattemptyparam.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; ;filename=foo</pre><pre class="errorline">                               <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (skips the missing parameter and sees 'foo')
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (skips the missing parameter and sees 'foo')
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (skips the missing parameter and sees 'foo')
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (skips the missing parameter and sees 'foo')
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (skips the missing parameter and sees 'foo')
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (skips the missing parameter and sees 'foo')
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo</code>, but including
               an empty parameter.
               
            </p>
            <p><em>The empty parameter makes the header field value
                  syntactically incorrect, as no other parameter follows. Thus the
                  header field should be ignored.
                  </em></p>
         </div>
         <div id="attwithasciifilenamenqws">
            <h4><a href="#attwithasciifilenamenqws" class="plain">attwithasciifilenamenqws</a>
               [<a title="Run the test" href="attwithasciifilenamenqws.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilenamenqws.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo bar.html</b></pre><pre class="errorline">                                              <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (ignores "bar")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (apparently replaces whitespace by "_")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the whitespace as part of the value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts the whitespace as part of the value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (accepts the whitespace as part of the value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (ignores the parameter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (accepts the whitespace as part of the value)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo bar.html</code> 
               without using quoting.
               
            </p>
            <p><em>This is invalid. "token" does not allow whitespace.
                  </em></p>
         </div>
         <div id="attwithfntokensq">
            <h4><a href="#attwithfntokensq" class="plain">attwithfntokensq</a>
               [<a title="Run the test" href="attwithfntokensq.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfntokensq.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename=<b>'foo.bar'</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (note that the second quote disappears as the extension gets rewritten)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (removes the single quotes (see <a href="http://code.google.com/p/chromium/issues/detail?id=179825">Chrome Issue 179825</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>'foo.bar'</code> using
               single quotes. 
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>'foo.bar'</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithisofnplain">
            <h4><a href="#attwithisofnplain" class="plain">attwithisofnplain</a>
               [<a title="Run the test" href="attwithisofnplain.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithisofnplain.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo-ä.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using plain ISO-8859-1
               
            </p>
            <p><em>UA should offer to download the resource as "foo-ä.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo-ä.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-ä.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithutf8fnplain">
            <h4><a href="#attwithutf8fnplain" class="plain">attwithutf8fnplain</a>
               [<a title="Run the test" href="attwithutf8fnplain.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithutf8fnplain.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo-Ã¤.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="fail">
                     <td>FF22</td>
                     <td>fail
                        (decodes as UTF-8 (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=588409">Mozilla Bug 588409</a>))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Saf6</td>
                     <td>fail
                        (decodes as UTF-8)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (decodes as UTF-8)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-Ã¤.html</code>,
               which happens to be <code>foo-ä.html</code> using UTF-8 encoding.
               
            </p>
            <p><em>UA should offer to download the resource as "foo-Ã¤.html".
                  Displaying "foo-ä.html" instead indicates that the UA tried to be smart by detecting
                  something that happens to look like UTF-8.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo-Ã¤.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-Ã¤.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfnrawpctenca">
            <h4><a href="#attwithfnrawpctenca" class="plain">attwithfnrawpctenca</a>
               [<a title="Run the test" href="attwithfnrawpctenca.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfnrawpctenca.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo-%41.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (displays "foo-A.html")
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (displays "foo-A.html")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (displays "foo-A.html" (see <a href="http://code.google.com/p/chromium/issues/detail?id=118">Chrome Issue 118</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-%41.html</code>
               
            </p>
            <p><em>UA should offer to download the resource as "foo-%41.html".
                  Displaying "foo-A.html" instead would indicate that the UA has attempted
                  to percent-decode the parameter.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo-%41.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-%41.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfnusingpct">
            <h4><a href="#attwithfnusingpct" class="plain">attwithfnusingpct</a>
               [<a title="Run the test" href="attwithfnusingpct.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfnusingpct.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>50%.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>50%.html</code>
               
            </p>
            <p><em>UA should offer to download the resource as "50%.html".
                  This tests how UAs that fails at <a href="#attwithfnrawpctenca">attwithfnrawpctenca</a>
                  handle "%" characters that do not start a "% hexdig hexdig" sequence.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"50%.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>50%.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfnrawpctencaq">
            <h4><a href="#attwithfnrawpctencaq" class="plain">attwithfnrawpctencaq</a>
               [<a title="Run the test" href="attwithfnrawpctencaq.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfnrawpctencaq.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo-%\41.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (apparently does not treat the backslash as escape character, replaces it with '_')
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (apparently does not treat the backslash as escape character, replaces it with '_')
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (saves "foo-A.html" (apparently unescapes the "\" but then applies %-decoding))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-%41.html</code>,
               using an escape character (this tests whether adding an escape
               character inside a %xx sequence can be used to disable the
               non-conformant %xx-unescaping).
               
            </p>
            <p><em>UA should offer to download the resource as "foo-%41.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo-%\41.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-%41.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithnamepct">
            <h4><a href="#attwithnamepct" class="plain">attwithnamepct</a>
               [<a title="Run the test" href="attwithnamepct.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithnamepct.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; name="<b>foo-%41.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (parameter ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (parameter ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (parameter ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (parameter ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (parameter ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (parameter ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (displays "foo-A.html" (see <a href="http://code.google.com/p/chromium/issues/detail?id=162815">Chrome Issue 162815</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a <i>name</i> parameter of <code>foo-%41.html</code>.
               (this test was added to observe the behavior of the (unspecified) treatment of "name" as
               synonym for "filename"; see <a href="http://www.imc.org/ietf-smtp/mail-archive/msg05023.html">Ned Freed's summary</a>
               where this comes from in MIME messages)
               
            </p>
            <p><em>
                  Should be treated as extension parameter, therefore almost any
                  behavior is acceptable.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>name</td>
                     <td>"foo-%41.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>name</td>
                     <td>foo-%41.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfilenamepctandiso">
            <h4><a href="#attwithfilenamepctandiso" class="plain">attwithfilenamepctandiso</a>
               [<a title="Run the test" href="attwithfilenamepctandiso.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfilenamepctandiso.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>ä-%41.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (displays "ä-A.html")
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (displays "ä-A.html")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a <i>filename</i> parameter of <code>ä-%41.html</code>.
               (this test was added to observe the behavior when non-ASCII characters
               and percent-hexdig sequences are combined)
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"ä-%41.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>ä-%41.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfnrawpctenclong">
            <h4><a href="#attwithfnrawpctenclong" class="plain">attwithfnrawpctenclong</a>
               [<a title="Run the test" href="attwithfnrawpctenclong.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfnrawpctenclong.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo-%c3%a4-%e2%82%ac.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (displays "foo-ä-&#8364;.html")
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (displays "foo-ä-&#8364;.html")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (displays "foo-ä-&#8364;.html" (see <a href="http://code.google.com/p/chromium/issues/detail?id=118">Chrome Issue 118</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-%c3%a4-%e2%82%ac.html</code>, using raw percent encoded UTF-8
               to represent <code>foo-ä-&#8364;.html</code>
               
            </p>
            <p><em>UA should offer to download the resource as "foo-%c3%a4-%e2%82%ac.html".
                  Displaying "foo-ä-&#8364;.html" instead would indicate that the UA has attempted
                  to percent-decode the parameter (using UTF-8). Displaying something else
                  would indicate that the UA tried to percent-decode, but used a different encoding.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo-%c3%a4-%e2%82%ac.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-%c3%a4-%e2%82%ac.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithasciifilenamews1">
            <h4><a href="#attwithasciifilenamews1" class="plain">attwithasciifilenamews1</a>
               [<a title="Run the test" href="attwithasciifilenamews1.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithasciifilenamews1.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename ="<b>foo.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code>, with one
               blank space <em>before</em> the equals character.
               
            </p>
            <p><em>UA should offer to download the resource as "foo.html".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwith2filenames">
            <h4><a href="#attwith2filenames" class="plain">attwith2filenames</a>
               [<a title="Run the test" href="attwith2filenames.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwith2filenames.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalidsyntax"><b>Content-Disposition: </b>attachment; filename="<b>foo.html</b>"; filename="<b>bar.html</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (Takes first parameter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (Takes first parameter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (Takes first parameter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (Takes first parameter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (Takes first parameter)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (Takes first parameter)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying two filename parameters. This is invalid
               syntax.
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>"bar.html"</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Invalid syntax: parameter 'filename' appears multiple times.</em></p>
         </div>
         <div id="attfnbrokentoken">
            <h4><a href="#attfnbrokentoken" class="plain">attfnbrokentoken</a>
               [<a title="Run the test" href="attfnbrokentoken.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnbrokentoken.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo[1](2).html</b></pre><pre class="errorline">                                             <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (accepts the unquoted value)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo[1](2).html</code>, but missing
               the quotes. Also, "[", "]", "(" and ")" are not allowed in the HTTP <a href="http://greenbytes.de/tech/webdav/draft-ietf-httpbis-p1-messaging-latest.html#rfc.section.1.2.2">token</a>
               production.
               
            </p>
            <p><em>This is invalid according to <a href="http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.19.5.1">Section 19.5.1 of RFC 2616</a>
                  and <a href="http://greenbytes.de/tech/webdav/rfc6266.html">RFC 6266</a>,
                  so UAs should ignore it.</em></p>
         </div>
         <div id="attfnbrokentokeniso">
            <h4><a href="#attfnbrokentokeniso" class="plain">attfnbrokentokeniso</a>
               [<a title="Run the test" href="attfnbrokentokeniso.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnbrokentokeniso.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo-ä.html</b></pre><pre class="errorline">                                              <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, but
               missing the quotes.
               
            </p>
            <p><em>This is invalid, as the umlaut is not a valid token character,
                  so UAs should ignore it.</em></p>
         </div>
         <div id="attfnbrokentokenutf">
            <h4><a href="#attfnbrokentokenutf" class="plain">attfnbrokentokenutf</a>
               [<a title="Run the test" href="attfnbrokentokenutf.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnbrokentokenutf.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo-Ã¤.html</b></pre><pre class="errorline">                                              <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the umlaut, also sniffs as UTF-8)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts the umlaut)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (accepts the umlaut, also sniffs as UTF-8)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (accepts the umlaut, also sniffs as UTF-8)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-Ã¤.html</code>
               (which happens to be <code>foo-ä.html</code> using UTF-8 encoding) but
               missing the quotes.
               
            </p>
            <p><em>This is invalid, as the umlaut is not a valid token character,
                  so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdisposition">
            <h4><a href="#attmissingdisposition" class="plain">attmissingdisposition</a>
               [<a title="Run the test" href="attmissingdisposition.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdisposition.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>filename=<b>foo.html</b></pre><pre class="errorline">                             <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (Treated as inline (and filename used in subsequent save operation))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Disposition type missing, filename specified.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdisposition2">
            <h4><a href="#attmissingdisposition2" class="plain">attmissingdisposition2</a>
               [<a title="Run the test" href="attmissingdisposition2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdisposition2.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>x=y; filename=<b>foo.html</b></pre><pre class="errorline">                      <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="fail">
                     <td>FF22</td>
                     <td>fail
                        (Treated as named attachment (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=671204">Mozilla Bug 671204</a>))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Disposition type missing, filename specified after extension parameter.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdisposition3">
            <h4><a href="#attmissingdisposition3" class="plain">attmissingdisposition3</a>
               [<a title="Run the test" href="attmissingdisposition3.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdisposition3.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>"foo; filename=bar;baz"; filename=qux</pre><pre class="errorline">                     <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="fail">
                     <td>FF22</td>
                     <td>fail
                        (Sees "qux" (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=671204">Mozilla Bug 671204</a>))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Disposition type missing, filename "qux". Can it be more broken? (Probably)
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdisposition4">
            <h4><a href="#attmissingdisposition4" class="plain">attmissingdisposition4</a>
               [<a title="Run the test" href="attmissingdisposition4.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdisposition4.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>filename=<b>foo.html</b>, filename=<b>bar.html</b></pre><pre class="errorline">                             <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (reports a network error ("Duplicate headers received from server"))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Disposition type missing, two filenames specified separated by a comma
               (this is syntactically equivalent to have two instances of the header
               with one filename parameter each).
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="emptydisposition">
            <h4><a href="#emptydisposition" class="plain">emptydisposition</a>
               [<a title="Run the test" href="emptydisposition.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Femptydisposition.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>; filename=<b>foo.html</b></pre><pre class="errorline">                     <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Disposition type missing (but delimiter present), filename specified.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="doublecolon">
            <h4><a href="#doublecolon" class="plain">doublecolon</a>
               [<a title="Run the test" href="doublecolon.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fdoublecolon.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>: inline; attachment; filename=foo.html</pre><pre class="errorline">                     <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (surplus colon ignored (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=671204">Mozilla Bug 671204</a>))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (surplus colon ignored)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (surplus colon ignored)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (surplus colon ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (header field ignored)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Header field value starts with a colon.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attandinline">
            <h4><a href="#attandinline" class="plain">attandinline</a>
               [<a title="Run the test" href="attandinline.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattandinline.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>inline; attachment; filename=foo.html</pre><pre class="errorline">                           <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (Picks 'attachment')
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (Picks 'attachment')
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Header field ignored)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Both disposition types specified.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attandinline2">
            <h4><a href="#attandinline2" class="plain">attandinline2</a>
               [<a title="Run the test" href="attandinline2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattandinline2.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; inline; filename=foo.html</pre><pre class="errorline">                               <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (treats it as (named) attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (treats it as (named) attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (treats it as (named) attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (treats it as (named) attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (treats it as (named) attachment)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (treats it as (unnamed) attachment)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Both disposition types specified.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attbrokenquotedfn">
            <h4><a href="#attbrokenquotedfn" class="plain">attbrokenquotedfn</a>
               [<a title="Run the test" href="attbrokenquotedfn.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattbrokenquotedfn.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>"foo.html".txt</b></pre><pre class="errorline">                                                    <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (ignores the stuff after the second double quote)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (treats the suffix as part of the filename)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (treats the suffix as part of the filename)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (ignores the stuff after the second double quote)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (ignores the stuff after the second double quote)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (replaces second double quote by "-")
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename parameter that is broken (quoted-string followed by more characters). This is invalid
               syntax. 
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attbrokenquotedfn2">
            <h4><a href="#attbrokenquotedfn2" class="plain">attbrokenquotedfn2</a>
               [<a title="Run the test" href="attbrokenquotedfn2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattbrokenquotedfn2.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>"bar</b></pre><pre class="errorline">                               <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the filename parameter as if complete (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=686198">Mozilla Bug 686198</a>))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (accepts the filename parameter as if complete)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (accepts the filename parameter as if complete)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (accepts the filename parameter as if complete)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename parameter that is broken (missing ending double quote). This is invalid syntax. 
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attbrokenquotedfn3">
            <h4><a href="#attbrokenquotedfn3" class="plain">attbrokenquotedfn3</a>
               [<a title="Run the test" href="attbrokenquotedfn3.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattbrokenquotedfn3.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>foo"bar;baz"qux</b></pre><pre class="errorline">                                             <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (sees "foo_bar" (apparently substituting the double quote, and truncating at the semicolon))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (sees "foo_bar" (apparently substituting the double quote, and truncating at the semicolon))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (sees "foo_bar" (apparently substituting the double quote, and truncating at the semicolon))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (sees "foo"bar;baz"qux" (accepts all characters inside the token?))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (sees "foo-bar;baz"qux" (accepts all characters inside the token?))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename parameter that is broken (disallowed characters in token syntax). This is invalid syntax.
               
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmultinstances">
            <h4><a href="#attmultinstances" class="plain">attmultinstances</a>
               [<a title="Run the test" href="attmultinstances.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmultinstances.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=foo.html<b>, attachment; filename=bar.html</b></pre><pre class="errorline">                                                  <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (sees "bar.html" (picking the second value, see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=480100">Mozilla Bug 480100</a>))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (sees "foo[1].html, attachment")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (sees "foo[1].html, attachment")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (sees "foo.htm")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (sees "foo.html")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Konq</td>
                     <td>warn
                        (sees "bar.html")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (reports a network error ("Duplicate headers received from server"))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', two comma-separated instances of the header field. As Content-Disposition doesn't use a
               list-style syntax, this is invalid syntax
               and, according to <a href="http://greenbytes.de/tech/webdav/rfc2616.html#rfc.section.4.2.p.5">RFC 2616, Section 4.2</a>,
               roughly equivalent to having two separate header field instances.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdelim">
            <h4><a href="#attmissingdelim" class="plain">attmissingdelim</a>
               [<a title="Run the test" href="attmissingdelim.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdelim.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; <b>foo=foo filename=bar</b></pre><pre class="errorline">                                         <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Konq</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Uses two parameters, but the mandatory delimiter ";" is missing.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdelim2">
            <h4><a href="#attmissingdelim2" class="plain">attmissingdelim2</a>
               [<a title="Run the test" href="attmissingdelim2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdelim2.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; <b>filename=bar foo=foo </b></pre><pre class="errorline">                                              <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (sees "bar")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (sees "bar_foo=foo")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (sees "bar foo=foo")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (sees "bar foo=foo")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (sees "bar foo=foo")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Konq</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (sees "bar foo=foo")
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Uses two parameters, but the mandatory delimiter ";" is missing.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attmissingdelim3">
            <h4><a href="#attmissingdelim3" class="plain">attmissingdelim3</a>
               [<a title="Run the test" href="attmissingdelim3.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmissingdelim3.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment filename=bar</pre><pre class="errorline">                                <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (sees unnamed attachment)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (sees "bar")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               ";" missing between disposition type and filename parameter.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attreversed">
            <h4><a href="#attreversed" class="plain">attreversed</a>
               [<a title="Run the test" href="attreversed.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattreversed.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>filename=foo.html<b>; attachment</b></pre><pre class="errorline">                             <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        ((but see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=263933">Mozilla Bug 263933</a>))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (treated as named attachment)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               filename parameter and disposition type reversed.
               
            </p>
            <p><em>This is invalid, so UAs should ignore it.</em></p>
         </div>
         <div id="attconfusedparam">
            <h4><a href="#attconfusedparam" class="plain">attconfusedparam</a>
               [<a title="Run the test" href="attconfusedparam.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattconfusedparam.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; xfilename=<b>foo.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying an "xfilename" parameter. 
               
            </p>
            <p><em>Should be treated as unnamed attachment.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>xfilename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attabspath">
            <h4><a href="#attabspath" class="plain">attabspath</a>
               [<a title="Run the test" href="attabspath.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattabspath.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename=<b>"/foo.html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (Replaces the path separator with "_".)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Replaces the path separator with "_".)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Replaces the path separator with "_".)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Strips the path separator.)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (Replaces the path separator with "-".)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Strips the path separator.)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Replaces the path separator with "_".)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying an absolute filename in the filesystem root. 
               
            </p>
            <p><em>Either ignore the filename altogether, or discard the path information.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"/foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>/foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attabspathwin">
            <h4><a href="#attabspathwin" class="plain">attabspathwin</a>
               [<a title="Run the test" href="attabspathwin.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattabspathwin.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename=<b>"\\foo.html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (Replaces the path separator with "_".)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (Replaces the path separator with "__"; apparently processing raw "\" characters instead of the unescaped quoted-string.)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (Replaces the path separator with "__"; apparently processing raw "\" characters instead of the unescaped quoted-string.)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (Strips the path separator.)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (On OSX: stores the leading "\")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (Strips the platform-specific path separator.)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (Replaces the path separator with "_".)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying an absolute filename in the filesystem root. 
               
            </p>
            <p><em>Either ignore the filename altogether, or discard the path information.</em></p>
            <p>
               Note that test results under Operating Systems other than Windows vary (see
               <a href="http://lists.w3.org/Archives/Public/ietf-http-wg/2011JanMar/0112.html">http://lists.w3.org/Archives/Public/ietf-http-wg/2011JanMar/0112.html</a>);
               apparently some UAs consider the backslash a legitimate filename character.
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"\\foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>\foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="c-d-parms">
         <h3><a href="#c-d-parms" class="plain">Content-Disposition: Additional Parameters</a> <i>(optional)</i></h3>
         
         <p>
            Various tests relating to the additional parameters defined in 
            <a href="http://greenbytes.de/tech/webdav/rfc2183.html#rfc.section.2">Section 2 of RFC 2183</a>.
            
         </p>
         
         <div id="attcdate">
            <h4><a href="#attcdate" class="plain">attcdate</a>
               [<a title="Run the test" href="attcdate.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattcdate.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; <b>creation-date="Wed, 12 Feb 1997 16:29:51 -0500"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="unsupported">
                     <td>FF22</td>
                     <td>unsupported
                        (seems to ignore the parameter (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=531353">Mozilla Bug 531353</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Opera</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Konq</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>'attachment', plus creation-date (see <a href="http://greenbytes.de/tech/webdav/rfc2183.html#rfc.section.2.4">Section 2.4 of RFC 2183</a>)
            </p>
            <p><em>UA should offer to download the resource. When doing so,
                  the creation date should be set to 12 Feb 1997.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>creation-date</td>
                     <td>"Wed, 12 Feb 1997 16:29:51 -0500"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>creation-date</td>
                     <td>Wed, 12 Feb 1997 16:29:51 -0500</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attmdate">
            <h4><a href="#attmdate" class="plain">attmdate</a>
               [<a title="Run the test" href="attmdate.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattmdate.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; <b>modification-date="Wed, 12 Feb 1997 16:29:51 -0500"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="unsupported">
                     <td>FF22</td>
                     <td>unsupported
                        (seems to ignore the parameter (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=531353">Mozilla Bug 531353</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Opera</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported
                        (seems to ignore the parameter)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>'attachment', plus modification-date (see <a href="http://greenbytes.de/tech/webdav/rfc2183.html#rfc.section.2.5">Section 2.5 of RFC 2183</a>)
            </p>
            <p><em>UA should offer to download the resource. When doing so,
                  the modification date should be set to 12 Feb 1997.</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>modification-date</td>
                     <td>"Wed, 12 Feb 1997 16:29:51 -0500"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>modification-date</td>
                     <td>Wed, 12 Feb 1997 16:29:51 -0500</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="c-d-extension">
         <h3><a href="#c-d-extension" class="plain">Content-Disposition: Disposition-Type Extension</a></h3>
         
         <p>
            A test checking behavior for disposition type extensions,
            which should be treated as "attachment", see 
            <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.2">Section 4.2 of RFC 6266</a>.
            
         </p>
         
         <div id="dispext">
            <h4><a href="#dispext" class="plain">dispext</a>
               [<a title="Run the test" href="dispext.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fdispext.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>foobar</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (does not treat it as 'attachment')
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (does not treat it as 'attachment')
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="fail">
                     <td>Saf6</td>
                     <td>fail
                        (does not treat it as 'attachment')
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'foobar' only</p>
            <p><em>This should be equivalent to using "attachment".</em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>foobar</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="dispextbadfn">
            <h4><a href="#dispextbadfn" class="plain">dispextbadfn</a>
               [<a title="Run the test" href="dispextbadfn.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fdispextbadfn.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; example="<b>filename=example.txt</b>"</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>'attachment', with no filename parameter</p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>example</td>
                     <td>"filename=example.txt"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>example</td>
                     <td>filename=example.txt</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="encoding-2231-char">
         <h3><a href="#encoding-2231-char" class="plain">RFC 2231/5987 Encoding: Character Sets</a></h3>
         
         <p>
            Various tests using the parameter value encoding defined
            in <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>.
            
         </p>
         
         <div id="attwithisofn2231iso">
            <h4><a href="#attwithisofn2231iso" class="plain">attwithisofn2231iso</a>
               [<a title="Run the test" href="attwithisofn2231iso.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithisofn2231iso.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=<b>iso-8859-1''foo-%E4.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE9</td>
                     <td>fail
                        (does not accept ISO-8859-1)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231/5987 encoded ISO-8859-1
               
            </p>
            <p><em>UA should offer to download the resource as "foo-ä.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>iso-8859-1''foo-%E4.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo-ä.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfn2231utf8">
            <h4><a href="#attwithfn2231utf8" class="plain">attwithfn2231utf8</a>
               [<a title="Run the test" href="attwithfn2231utf8.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231utf8.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=<b>UTF-8''foo-%c3%a4-%e2%82%ac.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä-&#8364;.html</code>, using RFC2231/5987 encoded UTF-8
               
            </p>
            <p><em>UA should offer to download the resource as "foo-ä-&#8364;.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4-%e2%82%ac.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo-ä-&#8364;.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfn2231noc">
            <h4><a href="#attwithfn2231noc" class="plain">attwithfn2231noc</a>
               [<a title="Run the test" href="attwithfn2231noc.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231noc.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=<b>''foo-%c3%a4-%e2%82%ac.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (decodes as UTF-8 (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=685192">Mozilla Bug 685192</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (decodes as 8bit encoding (ISO-8859-1?))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (ignores the parameter)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (ignores the parameter)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (ignores the parameter)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Behavior is undefined in RFC 2231, the charset part is missing, although UTF-8 was used.
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>''foo-%c3%a4-%e2%82%ac.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: parseerror: ABNF does not match; unmatched sequence: ''foo-%c3%a4-%e2%82%ac.html</em></p>
         </div>
         <div id="attwithfn2231utf8comp">
            <h4><a href="#attwithfn2231utf8comp" class="plain">attwithfn2231utf8comp</a>
               [<a title="Run the test" href="attwithfn2231utf8comp.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231utf8comp.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=<b>UTF-8''foo-a%cc%88.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231 encoded UTF-8, but
               choosing the decomposed form (lowercase a plus COMBINING DIAERESIS) --
               on a Windows target system, this should be translated to the preferred
               Unicode normal form (composed).
               
            </p>
            <p><em>UA should offer to download the resource as "foo-ä.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-a%cc%88.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo-a&#776;.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfn2231utf8-bad">
            <h4><a href="#attwithfn2231utf8-bad" class="plain">attwithfn2231utf8-bad</a>
               [<a title="Run the test" href="attwithfn2231utf8-bad.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231utf8-bad.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=<b>iso-8859-1''foo-%c3%a4-%e2%82%ac.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (displays the raw octet sequence as if it was ISO-8859-1 (which is internally 
                        treated as windows-1252, which <em>does</em> allow %82))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (displays the raw octet sequence as if it was ISO-8859-1)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (displays the raw octet sequence as if it was ISO-8859-1)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä-&#8364;.html</code>, using RFC2231 encoded UTF-8, but declaring ISO-8859-1
               
            </p>
            <p><em>
                  The octet %82 does not represent a valid ISO-8859-1 code point, so
                  the UA should really ignore the parameter.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>iso-8859-1''foo-%c3%a4-%e2%82%ac.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: illegal-octet: 130</em></p>
         </div>
         <div id="attwithfn2231iso-bad">
            <h4><a href="#attwithfn2231iso-bad" class="plain">attwithfn2231iso-bad</a>
               [<a title="Run the test" href="attwithfn2231iso-bad.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231iso-bad.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=<b>utf-8''foo-%E4.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (detects "foo-%E4.html")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (apparently falls back to ISO-8859-1)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (seems to insert a replacement character)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code><code>foo-ä.html</code></code>, using RFC2231 encoded ISO-8859-1, but declaring UTF-8
               
            </p>
            <p><em>
                  The octet %E4 does not represent a valid UTF-8 octet sequence, so
                  the UA should really ignore the parameter.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>utf-8''foo-%E4.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: illegal-octet: 228</em></p>
         </div>
         <div id="attwithfn2231ws1">
            <h4><a href="#attwithfn2231ws1" class="plain">attwithfn2231ws1</a>
               [<a title="Run the test" href="attwithfn2231ws1.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231ws1.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename<b> *=</b>UTF-8''foo-%c3%a4.html</pre><pre class="errorline">                               <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231 encoded UTF-8, with whitespace before "*="
               
            </p>
            <p><em>
                  The parameter is invalid, thus should be ignored.
                  </em></p>
         </div>
         <div id="attwithfn2231ws2">
            <h4><a href="#attwithfn2231ws2" class="plain">attwithfn2231ws2</a>
               [<a title="Run the test" href="attwithfn2231ws2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231ws2.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename<b>*= </b>UTF-8''foo-%c3%a4.html</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231 encoded UTF-8, with whitespace after "*="
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foo-ä.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo-ä.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfn2231ws3">
            <h4><a href="#attwithfn2231ws3" class="plain">attwithfn2231ws3</a>
               [<a title="Run the test" href="attwithfn2231ws3.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231ws3.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename<b>* =</b>UTF-8''foo-%c3%a4.html</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231 encoded UTF-8, with whitespace inside "* ="
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foo-ä.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo-ä.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfn2231quot">
            <h4><a href="#attwithfn2231quot" class="plain">attwithfn2231quot</a>
               [<a title="Run the test" href="attwithfn2231quot.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231quot.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=<b>"</b>UTF-8''foo-%c3%a4.html<b>"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (accepts the encoding despite double quotes not being allowed here (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=651185">Mozilla Bug 651185</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231 encoded UTF-8, with double quotes
               around the parameter value.
               
            </p>
            <p><em>
                  The parameter is invalid, thus should be ignored.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>"UTF-8''foo-%c3%a4.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: syntax: RFC 5987 only applies to "token" form.</em></p>
         </div>
         <div id="attwithfn2231quot2">
            <h4><a href="#attwithfn2231quot2" class="plain">attwithfn2231quot2</a>
               [<a title="Run the test" href="attwithfn2231quot2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231quot2.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=<b>"</b>foo%20bar.html<b>"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (processes the parameter despite broken quotes and missing delimiters (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=651185">Mozilla Bug 651185</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=685192">Mozilla Bug 685192</a>, and <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=692574">Mozilla Bug 692574</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo bar.html</code>, using "filename*", but missing
               character encoding and language (this replicates a bug in MS Exchange 2010, see
               <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=704989">Mozilla Bug 704989</a>).
               
            </p>
            <p><em>
                  The parameter is invalid, thus should be ignored.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>"foo%20bar.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo%20bar.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: syntax: RFC 5987 only applies to "token" form.</em></p>
         </div>
         <div id="attwithfn2231singleqmissing">
            <h4><a href="#attwithfn2231singleqmissing" class="plain">attwithfn2231singleqmissing</a>
               [<a title="Run the test" href="attwithfn2231singleqmissing.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231singleqmissing.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=UTF-8'foo-%c3%a4.html</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="warn">
                     <td>FF22</td>
                     <td>warn
                        (tolerates the missing single quote (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=692574">Mozilla Bug 692574</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using RFC2231 encoded UTF-8, but a single quote is missing.
               
            </p>
            <p><em>
                  The parameter is invalid, thus should be ignored.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8'foo-%c3%a4.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: parseerror: ABNF does not match; unmatched sequence: UTF-8'foo-%c3%a4.html</em></p>
         </div>
         <div id="attwithfn2231nbadpct1">
            <h4><a href="#attwithfn2231nbadpct1" class="plain">attwithfn2231nbadpct1</a>
               [<a title="Run the test" href="attwithfn2231nbadpct1.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231nbadpct1.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=UTF-8''foo%</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (displays "foo%")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (displays "foo%")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (displays "foo%")
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo%</code>, using RFC2231 encoded UTF-8, with a single "%" at the end.
               
            </p>
            <p><em>
                  The parameter is invalid, thus should be ignored.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo%</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: parseerror: ABNF does not match; unmatched sequence: %</em></p>
         </div>
         <div id="attwithfn2231nbadpct2">
            <h4><a href="#attwithfn2231nbadpct2" class="plain">attwithfn2231nbadpct2</a>
               [<a title="Run the test" href="attwithfn2231nbadpct2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231nbadpct2.asis"><span class="red">R</span></a>]
               
            </h4><pre class="invalid"><b>Content-Disposition: </b>attachment; filename*=UTF-8''f%oo.html</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (displays "f%oo.html")
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (displays "f%oo.html")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (ignores the filename parameter)
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Chr25</td>
                     <td>warn
                        (displays "f%oo.html")
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>f%oo.html</code>, using RFC2231 encoded UTF-8, with a "%" not starting a percent-escape.
               
            </p>
            <p><em>
                  The parameter is invalid, thus should be ignored.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''f%oo.html</td>
                  </tr>
               </tbody>
            </table>
            <p><em>Error: parseerror: ABNF does not match; unmatched sequence: %oo.html</em></p>
         </div>
         <div id="attwithfn2231dpct">
            <h4><a href="#attwithfn2231dpct" class="plain">attwithfn2231dpct</a>
               [<a title="Run the test" href="attwithfn2231dpct.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231dpct.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=UTF-8''A-<b>%25</b>41.html</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>A-%41.html</code>, using RFC2231 encoded UTF-8.        
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''A-%2541.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>A-%41.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attwithfn2231abspathdisguised">
            <h4><a href="#attwithfn2231abspathdisguised" class="plain">attwithfn2231abspathdisguised</a>
               [<a title="Run the test" href="attwithfn2231abspathdisguised.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattwithfn2231abspathdisguised.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=UTF-8''%5cfoo.html</pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (substitutes "\" by "_")
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (substitutes "\" by "_")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (strips the "\")
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="warn">
                     <td>Konq</td>
                     <td>warn
                        (On OSX: stores the leading "\")
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (substitutes "\" by "_")
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>\foo.html</code>, using RFC2231 encoded UTF-8.        
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''%5cfoo.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>\foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="encoding-2231-cont">
         <h3><a href="#encoding-2231-cont" class="plain">RFC2231 Encoding: Continuations</a> <i>(optional)</i></h3>
         
         <p>
            Various tests using the parameter value continuation defined
            in <a href="http://greenbytes.de/tech/webdav/rfc2231.html#rfc.section.3">Section 3 of RFC 2231</a>.
            
         </p>
         
         <div id="attfncont">
            <h4><a href="#attfncont" class="plain">attfncont</a>
               [<a title="Run the test" href="attfncont.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfncont.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*0=<b>"foo."</b>; filename*1=<b>"html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo.html</code>, using RFC2231-style parameter continuations.
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foo.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>"foo."</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*1</td>
                     <td>"html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>foo.</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*1</td>
                     <td>html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfncontqs">
            <h4><a href="#attfncontqs" class="plain">attfncontqs</a>
               [<a title="Run the test" href="attfncontqs.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfncontqs.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*0=<b>"foo"</b>; filename*1=<b>"\b\a\r.html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foobar.html</code>, using RFC2231-style parameter continuations,
               with the continuation using quoted-string syntax.
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foobar.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>"foo"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*1</td>
                     <td>"\b\a\r.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>foo</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*1</td>
                     <td>bar.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfncontenc">
            <h4><a href="#attfncontenc" class="plain">attfncontenc</a>
               [<a title="Run the test" href="attfncontenc.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfncontenc.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*0*=<b>UTF-8''foo-%c3%a4</b>; filename*1=<b>".html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ä.html</code>, using both RFC2231-style parameter continuations
               and UTF-8 encoding.
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foo-ä.html".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0*</td>
                     <td>UTF-8''foo-%c3%a4</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*1</td>
                     <td>".html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0*</td>
                     <td>UTF-8''foo-%c3%a4</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*1</td>
                     <td>.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfncontlz">
            <h4><a href="#attfncontlz" class="plain">attfncontlz</a>
               [<a title="Run the test" href="attfncontlz.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfncontlz.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*0=<b>"foo"</b>; filename*01=<b>"bar"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="warn">
                     <td>Opera</td>
                     <td>warn
                        (accepts leading zeros)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo</code> (the parameter filename*01 should be ignored because of the leading zero)
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foo".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>"foo"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*01</td>
                     <td>"bar"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>foo</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*01</td>
                     <td>bar</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfncontnc">
            <h4><a href="#attfncontnc" class="plain">attfncontnc</a>
               [<a title="Run the test" href="attfncontnc.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfncontnc.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*0=<b>"foo"</b>; filename*2=<b>"bar"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo</code> (the parameter filename*2 should be ignored because there's no filename*1 parameter)
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foo".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>"foo"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*2</td>
                     <td>"bar"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0</td>
                     <td>foo</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*2</td>
                     <td>bar</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfnconts1">
            <h4><a href="#attfnconts1" class="plain">attfnconts1</a>
               [<a title="Run the test" href="attfnconts1.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnconts1.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*1=<b>"foo."</b>; filename*2=<b>"html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment' (the filename* parameters should be ignored because filename*0 is missing)
               
            </p>
            <p><em>
                  UA should offer to download, not getting the filename from the header.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*1</td>
                     <td>"foo."</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*2</td>
                     <td>"html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*1</td>
                     <td>foo.</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*2</td>
                     <td>html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfncontord">
            <h4><a href="#attfncontord" class="plain">attfncontord</a>
               [<a title="Run the test" href="attfncontord.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfncontord.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*1=<b>"bar"</b>; filename*0=<b>"foo"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (but see (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=776324">Mozilla Bug 776324</a>))
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE9</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Saf6</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="unsupported">
                     <td>Chr25</td>
                     <td>unsupported</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foobar</code>
               
            </p>
            <p><em>
                  UA should offer to download the resource as "foobar".
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*1</td>
                     <td>"bar"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*0</td>
                     <td>"foo"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*1</td>
                     <td>bar</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*0</td>
                     <td>foo</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="encoding-2231-fb">
         <h3><a href="#encoding-2231-fb" class="plain">RFC2231 Encoding: Fallback Behaviour</a></h3>
         
         <p>
            This tests how the UA behaves when the same parameter name appear
            both in traditional and RFC 2231/5987 extended format.
            
         </p>
         
         <div id="attfnboth">
            <h4><a href="#attfnboth" class="plain">attfnboth</a>
               [<a title="Run the test" href="attfnboth.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnboth.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename="<b>foo-ae.html</b>"; filename*=<b>UTF-8''foo-%c3%a4.html</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported
                        (picks the traditionally encoded value -- the first of both)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ae.html</code> in
               the traditional format, and <code>foo-ä.html</code> in RFC2231 format.
               
            </p>
            <p><em>
                  <a href="http://greenbytes.de/tech/webdav/rfc5987.html#rfc.section.4.2">Section 4.2 of RFC 5987</a>
                  and
                  <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.3">Section 4.3 of RFC 6266</a>
                  suggest that the RFC 2231/5987 encoded parameter ("filename*") should
                  take precedence when understood.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"foo-ae.html"</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-ae.html</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>foo-ae.html</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*</td>
                     <td>foo-ä.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfnboth2">
            <h4><a href="#attfnboth2" class="plain">attfnboth2</a>
               [<a title="Run the test" href="attfnboth2.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnboth2.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*=<b>UTF-8''foo-%c3%a4.html</b>; filename=<b>"foo-ae.html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>MSIE8</td>
                     <td>fail
                        (ignores the parameter (this indicates a parsing bug))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (picks the RFC 2231 encoded value)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>foo-ae.html</code> in
               the traditional format, and <code>foo-ä.html</code> in RFC2231 format.
               
            </p>
            <p><em>
                  <a href="http://greenbytes.de/tech/webdav/rfc5987.html#rfc.section.4.2">Section 4.2 of RFC 5987</a>
                  and
                  <a href="http://greenbytes.de/tech/webdav/rfc6266.html#rfc.section.4.3">Section 4.3 of RFC 6266</a>
                  suggest that the RFC 2231/5987 encoded parameter ("filename*") should
                  take precedence when understood.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>"foo-ae.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>UTF-8''foo-%c3%a4.html</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>foo-ae.html</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*</td>
                     <td>foo-ä.html</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>foo-ae.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attfnboth3">
            <h4><a href="#attfnboth3" class="plain">attfnboth3</a>
               [<a title="Run the test" href="attfnboth3.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattfnboth3.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename*0*=<b>ISO-8859-15''euro-sign%3d%a4</b>; filename*=<b>ISO-8859-1''currency-sign%3d%a4</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass
                        (uses RFC5987 simple format)
                        
                     </td>
                  </tr>
                  <tr class="unsupported">
                     <td>MSIE8</td>
                     <td>unsupported</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (ignores both)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass
                        (uses RFC2231/cont format (the first one))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (uses RFC5987 simple format)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (uses RFC2231/cont format (the first one))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass
                        (uses RFC5987 simple format)
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a filename of <code>currency-sign=¤</code> in
               the simple RFC2231/5987 format, and <code>euro-sign=&#8364;</code> in RFC2231-with-continuations format.
               
            </p>
            <p><em>
                  A UA that supports could pick either, or ignore both because of the
                  ambiguity.
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0*</td>
                     <td>ISO-8859-15''euro-sign%3d%a4</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*</td>
                     <td>ISO-8859-1''currency-sign%3d%a4</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0*</td>
                     <td>ISO-8859-15''euro-sign%3d%a4</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*</td>
                     <td>ISO-8859-1''currency-sign%3d%a4</td>
                  </tr>
               </tbody>
            </table>
            <p>
               After decoding according to <a href="http://greenbytes.de/tech/webdav/rfc5987.html">RFC 5987</a>:
               
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename*0*</td>
                     <td>ISO-8859-15''euro-sign%3d%a4</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename*</td>
                     <td>currency-sign=¤</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div id="attnewandfn">
            <h4><a href="#attnewandfn" class="plain">attnewandfn</a>
               [<a title="Run the test" href="attnewandfn.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattnewandfn.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; foobar=x; filename=<b>"foo.html"</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="pass">
                     <td>FF22</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Opera</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass</td>
                  </tr>
                  <tr class="pass">
                     <td>Chr25</td>
                     <td>pass</td>
                  </tr>
               </tbody>
            </table>
            <p>
               'attachment', specifying a new parameter "foobar", plus a filename of <code>foo.html</code> in
               the traditional format.
               
            </p>
            <p><em>
                  "foobar" should be ignored, thus "foo.html" be used as filename (this tests whether the UA properly skips unknown parameters).
                  </em></p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>foobar</td>
                     <td>x</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>"foo.html"</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>foobar</td>
                     <td>x</td>
                  </tr>
                  <tr>
                     <td></td>
                     <td>filename</td>
                     <td>foo.html</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <div id="encoding-2047">
         <h3><a href="#encoding-2047" class="plain">RFC2047 Encoding</a></h3>
         
         <p>
            These tests RFC 2047 style encoding. 
            
         </p>
         
         <p>
            Note that according to <a href="http://greenbytes.de/tech/webdav/rfc2047.html#rfc.section.5">Section 5 of RFC 2047</a>,
            this encoding does not apply here: <q cite="http://greenbytes.de/tech/webdav/rfc2047.html#rfc.section.5">An 'encoded-word' MUST NOT appear within a 'quoted-string'.</q>, and
            <q cite="http://greenbytes.de/tech/webdav/rfc2047.html#rfc.section.5">An 'encoded-word' MUST NOT be used in parameter of a MIME
               Content-Type or Content-Disposition field, or in any structured
               field body except within a 'comment' or 'phrase'.</q>
            
         </p>
         
         <p>
            Therefore, these tests are only be present in order to check
            whether the UA by mistake tries to implement RFC 2047.
            
         </p>
         
         <p>
            Note that for some bizarre reason, some Web sites, such as GMail, use
            this encoding despite historically it was only implemented in Mozilla
            browsers, which do support the RFC2231 encoding as well.
            
         </p>
         
         <div id="attrfc2047token">
            <h4><a href="#attrfc2047token" class="plain">attrfc2047token</a>
               [<a title="Run the test" href="attrfc2047token.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattrfc2047token.asis"><span class="red">R</span></a>]
               
            </h4><pre class="parseerror"><b>Content-Disposition: </b>attachment; filename=<b>=?ISO-8859-1?Q?foo-=E4.html?=</b></pre><pre class="errorline">                               <b class="red">^ (PARSE ERROR)</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="fail">
                     <td>FF22</td>
                     <td>fail
                        (decodes it anyway to "foo-ä.html" (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=601933"><del>Mozilla Bug 601933</del></a>))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE8</td>
                     <td>warn
                        (takes the whole value as filename, but does not decode it (replacing question marks by underscores))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>MSIE9</td>
                     <td>warn
                        (takes the whole value as filename, but does not decode it (replacing question marks by underscores))
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>Opera</td>
                     <td>fail
                        (displays garbage ("=.htm"))
                        
                     </td>
                  </tr>
                  <tr class="warn">
                     <td>Saf6</td>
                     <td>warn
                        (takes the whole value as filename, but does not decode it (replacing question marks by underscores))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (ignores the parameter)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (decodes it anyway to "foo-ä.html" (see <a href="http://code.google.com/p/chromium/issues/detail?id=66694">Chrome Issue 66694</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Uses RFC 2047 style encoded word. "=" is invalid inside the <code>token</code>
               production, so this is invalid.
               
            </p>
         </div>
         <div id="attrfc2047quoted">
            <h4><a href="#attrfc2047quoted" class="plain">attrfc2047quoted</a>
               [<a title="Run the test" href="attrfc2047quoted.asis">TEST</a>]
               [<a title="View in REDbot" href="http://redbot.org/?uri=http%3A%2F%2Fgreenbytes.de%2Ftech%2Ftc2231%2Fattrfc2047quoted.asis"><span class="red">R</span></a>]
               
            </h4><pre><b>Content-Disposition: </b>attachment; filename=<b>"=?ISO-8859-1?Q?foo-=E4.html?="</b></pre><table class="aside">
               <thead>
                  <tr>
                     <th colspan="2">
                        Test Results
                        
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="fail">
                     <td>FF22</td>
                     <td>fail
                        (decodes it anyway to "foo-ä.html" (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=601933"><del>Mozilla Bug 601933</del></a>))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE8</td>
                     <td>pass
                        (takes the whole value as filename, but does not decode it)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>MSIE9</td>
                     <td>pass
                        (takes the whole value as filename, but does not decode it)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>Opera</td>
                     <td>fail
                        (displays garbage ("=.htm"))
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Saf6</td>
                     <td>pass
                        (takes the whole value as filename, but does not decode it)
                        
                     </td>
                  </tr>
                  <tr class="pass">
                     <td>Konq</td>
                     <td>pass
                        (takes the whole value as filename, but does not decode it)
                        
                     </td>
                  </tr>
                  <tr class="fail">
                     <td>Chr25</td>
                     <td>fail
                        (decodes it anyway to "foo-ä.html" (see <a href="http://code.google.com/p/chromium/issues/detail?id=66694">Chrome Issue 66694</a>))
                        
                     </td>
                  </tr>
               </tbody>
            </table>
            <p>
               Uses RFC 2047 style encoded word, using the <code>quoted-string</code> production.
               
            </p>
            <p>Extracted raw data:</p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>"=?ISO-8859-1?Q?foo-=E4.html?="</td>
                  </tr>
               </tbody>
            </table>
            <p>After post-processing the disposition name, parameter
               names, and parameter values:
            </p>
            <table class="extracted">
               <thead>
                  <tr>
                     <th>disposition type&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter name&nbsp;&nbsp;&nbsp;</th>
                     <th>parameter value&nbsp;&nbsp;&nbsp;</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>attachment</td>
                     <td>filename</td>
                     <td>=?ISO-8859-1?Q?foo-=E4.html?=</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
      <h2>Test Case Generation</h2>
      <p>
         Both this document and the indiviual test "scripts" are generated
         from one single XML source (<a href="tc2231.xml">tc2231.xml</a>),
         using an XSLT2 transformation (<a href="tc2231.xslt">tc2231.xslt</a>).
         
      </p>
      <p>
         The transformation contains a regular-expression based parser
         for header fields, and embeds the parse results in the output.
         For now, the parser only checks the syntax (based on the ABNF),
         but does not inspect the actual parameters that are discovered.
         
      </p>
      <p>
         To generate the files, an XSLT2 processor such as <a href="http://saxon.sourceforge.net/">Saxon 9</a> is needed.
         Copy both files into an <em>empty</em> directory, then run:
         
      </p><pre><code>saxon9 tc2231.xml tc2231.xslt &gt; index.html
</code></pre><p>
         Note that this will also generate a set of "asis" files that contain
         the actual test cases. These can be served using the Apache httpd <a href="http://httpd.apache.org/docs/2.0/mod/mod_asis.html">mod_asis</a>
         module.
         
      </p>
   </body>
</html>